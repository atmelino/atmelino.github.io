<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html;
      charset=windows-1252">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link type="text/css" href="css/blog.css" media="all" rel="stylesheet">
  <title></title>
</head>

<body>
  <div class="header">
    <h2>deno learning blog January 2023<br>
    </h2>
  </div>
  <div class="row">
    <div class="leftcolumn">

      <div class="card">
        <h2>Jan 1, 2023</h2>
        Failed attempt to install LAMP server, because of mySQL problems<br>
        <a href="deno_learning_failed_attempts.html">deno_learning_failed_attempts.html</a><br>

      </div>


      <div class="card">
        <h2>Jan 2, 2023</h2>
        <h3>Install LAMP server</h3>
        <p> Create new Linode.<br>
          Login via ssh<br>
        <div class="code">
          sudo apt update
        </div>
        <div class="code">
          sudo apt upgrade
        </div>
        <div class="code">
          sudo reboot
        </div>


        Add new admin user.<br>
        <div class="code">
          adduser sammy
        </div>
        <div class="code">
          sudo usermod -aG sudo sammy
        </div>
        </p>


        <h4> Install mySQL server</h4>
        <p>
          instructions at<br>
          <a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-22-04">
            https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-22-04</a><br>

        <div class="code">
          sudo apt install mysql-server
        </div>

        Make sure mySQL server is running:<br>
        <div class="code">
          sudo systemctl status mysql.service
        </div>

        Prevent error that would occur when running secure install:<br>

        <div class="code">
          sudo mysql
        </div>

        <div class="code">
          ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';
        </div>

        <div class="code">
          exit
        </div>

        Now we can run the secure installation script:<br>
        <div class="code">
          sudo mysql_secure_installation
        </div>
        <br>
        will ask for password, is now 'password'<br>
        <br>
        Output:<br>
        <div class="output">
          Securing the MySQL server deployment.<br>
          <br>
          Enter password for user root:<br>
          The 'validate_password' component is installed on the server.<br>
          The subsequent steps will run with the existing configuration<br>
          of the component.<br>
          Using existing password for root.<br>
          <br>
          Estimated strength of the password: 50<br>
          Change the password for root ? ((Press y|Y for Yes, any other key for No) : n<br>
          <br>
          ... skipping.<br>
          By default, a MySQL installation has an anonymous user,<br>
          allowing anyone to log into MySQL without having to have<br>
          a user account created for them. This is intended only for<br>
          testing, and to make the installation go a bit smoother.<br>
          You should remove them before moving into a production<br>
          environment.<br>
          <br>
          Remove anonymous users? (Press y|Y for Yes, any other key for No) : n<br>
          <br>
          ... skipping.<br>
          <br>
          <br>
          Normally, root should only be allowed to connect from<br>
          'localhost'. This ensures that someone cannot guess at<br>
          the root password from the network.<br>
          <br>
          Disallow root login remotely? (Press y|Y for Yes, any other key for No) : n<br>
          <br>
          ... skipping.<br>
          By default, MySQL comes with a database named 'test' that<br>
          anyone can access. This is also intended only for testing,<br>
          and should be removed before moving into a production<br>
          environment.<br>
          <br>
          <br>
          Remove test database and access to it? (Press y|Y for Yes, any other key for No) : n<br>
          <br>
          ... skipping.<br>
          Reloading the privilege tables will ensure that all changes<br>
          made so far will take effect immediately.<br>
          <br>
          Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y<br>
          Success.<br>
          <br>
          All done!<br>
        </div>
        <p>
        <h5>Add another user</h5>
        <div class="code">
          mysql -u root -p<br>
        </div>
        <div class="code">
          CREATE USER 'sammy'@'localhost' IDENTIFIED BY 'password';<br>
        </div>
        <div class="code">
          GRANT CREATE, ALTER, DROP, INSERT, UPDATE, INDEX, DELETE, SELECT, REFERENCES, RELOAD on *.* TO
          'sammy'@'localhost' WITH GRANT OPTION;<br>
        </div>
        <div class="code">
          FLUSH PRIVILEGES;
        </div>
        <div class="code">
          exit
        </div>
        </p>
        <p>
        <h5>Test new user</h5>
        <div class="code">
          mysql -u sammy -p<br>
        </div>
        list databases:<br>
        <div class="code">
          SHOW DATABASES;
        </div>
        Output:<br>
        <div class="output">
          mysql> SHOW DATABASES;<br>
          +--------------------+<br>
          | Database |<br>
          +--------------------+<br>
          | information_schema |<br>
          | mysql |<br>
          | performance_schema |<br>
          | sys |<br>
          +--------------------+<br>
          4 rows in set (0.01 sec)<br>
        </div>
        Create new database:<br>
        <div class="code">
          CREATE DATABASE db_name;<br>
        </div>
        <div class="code">
          SHOW DATABASES;
        </div>
        Output:<br>
        <div class="output">
          SHOW DATABASES;<br>
          +--------------------+<br>
          | Database |<br>
          +--------------------+<br>
          | db_name |<br>
          | information_schema |<br>
          | mysql |<br>
          | performance_schema |<br>
          | sys |<br>
          +--------------------+<br>
          5 rows in set (0.00 sec)<br>
        </div>
        The newly created database is listed.
        </p>

        <h4>Install Apache web server</h4>
        <p>
          Instructions at<br>
          <a
            href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-22-04">
            https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-22-04</a><br>
        <div class="code">
          sudo apt install apache2
        </div>
        Open browser at<br>
        <a href="http://45.79.28.148/"> http://45.79.28.148/</a><br>
        Apache2 Default Page message comes up - it works.<br>
        Not changing ufw firewall for now because my deno servers will use port 8000.<br>
        </p>

        <h4>Install PHP</h4>
        <p>
          Instructions at<br>
          <a
            href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-22-04">
            https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-22-04
          </a><br>
        <div class="code">
          sudo apt install php libapache2-mod-php php-mysql
        </div>
        Test the installation:<br>
        <div class="code">
          php -v
        </div>

        </p>

        <h4>Install phpmyadmin</h4>
        <p>
          Instructions at<br>
          <a
            href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-22-04">
            https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-22-04
          </a><br>
        <div class="code">
          sudo apt install phpmyadmin php-mbstring php-zip php-gd php-json php-curl
        </div>
        Make sure to select Apache!<br>
        Test phpmyadmin<br>
        <a href="http://45.79.28.148/phpmyadmin">http://45.79.28.148/phpmyadmin</a><br>
        </p>

        <h3>Run deno app on linode server</h3>
        <a href="http://45.79.28.148:8000">http://45.79.28.148:8000</a><br>

        <h3>deno and mySQL</h3>
        <a href="https://deno.land/x/mysql@v2.10.2">https://deno.land/x/mysql@v2.10.2</a><br>

        <a
          href="https://codeforgeek.com/deno-and-mysql-connection-tutorial/">https://codeforgeek.com/deno-and-mysql-connection-tutorial/</a><br>

      </div>


      <div class="card">
        <h2>Date</h2>
        New Card
      </div>


    </div>

    <div class="rightcolumn">
      <div class="card">
        <h2>Blog List<br>
        </h2>
        <a href="index.html">atmelinos' blogs</a><br>
      </div>
      <div class="card">
        <h3>Posts by Date<br>
        </h3>
        <a href="deno_learning_2023_jan.html">January 2023</a><br>
        <br>
        <a href="deno_learning_2022_dec.html">December 2022</a><br>
        <br>
      </div>
      <div class="card">
        <h3>Follow Me</h3>
        <p>Some text..</p>
      </div>
    </div>
  </div>
  <div class="footer">
    <h2>More coming soon..<br></h2>
  </div>
</body>

</html>